#include <bits/stdc++.h>
using namespace std;
int main() {
    int n, m, k, t, r, p, a[102]={0}, cnt=INT_MAX, f[7][4][4]
       {{{2, 2, 0, 0},
         {2, 2, 0, 0},
         {2, 2, 0, 0},
         {2, 2, 0, 0}},
        {{4, 0, 0, 0},
         {1, 1, 1, 1},
         {4, 0, 0, 0},
         {1, 1, 1, 1}},
        {{1, 3, 0, 0},
         {1, 1, 2, 0},
         {3, 1, 0, 0},
         {2, 1, 1, 0}},
        {{3, 1, 0, 0},
         {1, 1, 2, 0},
         {1, 3, 0, 0},
         {2, 1, 1, 0}},
        {{2, 2, 0, 0},
         {1, 2, 1, 0},
         {2, 2, 0, 0},
         {1, 2, 1, 0}},
        {{2, 2, 0, 0},
         {1, 2, 1, 0},
         {2, 2, 0, 0},
         {1, 2, 1, 0}},
        {{1, 2, 1, 0},
         {3, 1, 0, 0},
         {1, 2, 1, 0},
         {1, 3, 0, 0}}};
    cin >> n >> m >> k;
    for(int i =0; i<k; i++){
        cin >> t >> r >> p;
        a[p-1]+=f[t-1][r/90][0];
        a[p+0]+=f[t-1][r/90][1];
        a[p+1]+=f[t-1][r/90][2];
        a[p+2]+=f[t-1][r/90][3];
    }
    for(int i =0; i<n; i++) cnt=min(cnt, a[i]);
    for(int i =0; i<n; i++) a[i]-=cnt;
    for(int i =m; i>=1; i--){
        for(int j=0; j<n; j++){
            if(a[j]>=i) cout << "x";
            else cout << ".";
        }
        cout << "\n";
    }
    return 0;
}
